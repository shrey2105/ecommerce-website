{% extends 'shopping/basic.html' %}

{% block title %}Order Details{% endblock %}
{% block css %}
.result {display: block; clear: both; vertical-align: middle; position: relative;}
.display-box {position: relative;width: 100%;max-width: 500px;background-color: #fff;border: 4px solid #000;padding:
40px 20px;margin: 50px auto;line-height: 30px;display: block;clear: both;}
.display-box p a {color: #000; font-weight: 600; text-decoration: underline;}
.display-box h2 {color: #000;font-size: 22px;text-align: center;margin-bottom: 20px;display: block;font-weight: 600;text-transform: uppercase;font-family: lato;}
.display-box p {color: #000;font-size: 14px;text-align: center;display: block;}
{% endblock %}
{% block shopactive %}active{% endblock shopactive %}
{% block body %}
{% load literal_eval %}
<div class="container">
{% if empty %}

    <div class="result">
        <div class="display-box">
            <h2>NO ORDERS YET</h2>
            <p>You have no ordered anything yet.</p>
            <p>You need to order to see order details.</p>
            <p>Click <a href="/shop/">here</a> to continue shopping.</p>
        </div>
    </div>

    {% else %}

<h1 class="order-detail-title mt-4">Order Details</h1><br>
<div class="table-responsive">
    <h2 class="cart-details">
    <table class="table">
        <thead>
            <th scope="col">Order ID</th>
            <th scope="col">Product</th>
            <th scope="col">Quantity</th>
            <th scope="col">Price</th>
            <th scope="col">Date/Time</th>
            <th scope="col"></th>
        </thead>
        {% for item in order %}
        
        <tr>
            <td scope="col">{{item.order_id}}</td>
            <td scope="col">
            {% for product in item.cartproduct_items|literal_eval %}
            {{forloop.counter}}. {{product.0}}<br>
            {% endfor %}
            </td>
            <td scope="col">
             {% for quantity in item.cartproduct_items|literal_eval %}
            {{quantity.1}}<br>
            {% endfor %}
            </td>
            <td scope="col">{{item.final_total}}</td>
            <td scope="col">{{item.timestamp}}</td>
        </tr>
        {% endfor %}
    </table>
    </h2>
    </div>
    {% endif %}
</div>
{% endblock body %}